# 定时器服务守护进程任务 

## 定时器服务/守护进程任务，以及定时器命令队列

定时器功能是可选的，不是FreeRTOS内核的主要内容。定时器功能由定时器服务(或守护进程)任务实现。
FreeRTOS提供了一组与定时器相关的API函数。其中许多函数使用标准的FreeRTOS队列向定时器服务任务发送命令。用于此目的的队列称为"定时器命令队列"。"定时器命令队列"是FreeRTOS定时器私有的，无法直接访问。 

下图阐述了这种情况。 左侧的代码表示用户应用程序一部分的函数，被作为同一用户应用程序的一部分创建的任务所调用。右边的代码代表了定时器服务任务的实现。定时器命令队列是应用任务和定时器服务任务之间的纽带。在这个示例中，xTimerReset() API函数是从应用程序代码中调用的。该操作将导致将复位命令发送到定时器命令队列以供定时器服务任务处理。 应用程序代码仅调用xTimerReset() API函数-应用程序无法直接访问计时器命令队列 

![应用代码，FreeRTOS定时器API，定时器命令队列及定时器服务任务的内容](https://freertos.org/fr-content-src/uploads/2018/07/rtos-timer-task-and-timer-command-queue.png "软件定时器")
