# RTOS流和信息缓冲区简介

流缓冲区表示RTOS任务到任务，以及中断到任务的通信数据流。 与大多数其他FreeRTOS通信数据形式不同，流缓存针对单读取器单写入器场景进行了优化，例如将数据从中断服务例程传递到任务，或在双核CPU上从一个微控制器内核传递到另一个内核。数据通过复制的方式传递-数据由发送方复制到缓冲区中，并从缓冲区中复制出来实现读取。

流缓冲区传递连续的字节流。消息缓冲区传递大小可变但离散的消息。消息缓冲区使用流缓冲区进行数据传输。

**重要说明**: 在FreeRTOS对象中独一无二的是，流缓冲区实现(消息缓冲区实现也是如此，因为消息缓冲区构建在流缓冲区上)只有一个任务或中断会写入缓冲区， 并且只有一个任务或中断将从缓冲区中读取。写入方和读取方执行不同的任务或中断是安全的，但与其他FreeRTOS对象不同，拥有多个不同的编写方或多个不同的读取方是不安全的。如果有多个不同的写入方，那么应用程序编写器必须将每次调用writting API函数(如*xStreamBufferSend()*)放在临界区中，并使用0的发送阻塞时间。同样，如果有多个不同的读取方，那么应用程序读取方必须将每次调用reading API函数(如*xStreamBufferReceive()*)放在临界区中，并使用0的接收阻塞时间。
